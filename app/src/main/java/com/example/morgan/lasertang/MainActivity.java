package com.example.morgan.lasertang;import android.content.Intent;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.util.Log;import android.view.MotionEvent;import android.view.View;import android.widget.ArrayAdapter;import android.widget.Button;import android.widget.ListView;import android.widget.SeekBar;import android.widget.TextView;import android.widget.Toast;public class MainActivity extends AppCompatActivity implements View.OnClickListener, View.OnTouchListener {    // Tank Commands    private static final byte CMD_SHOOT = 0x01;    private static final byte CMD_MOVE = 0x02;    // Activity elements    Button moveBtn;    Button shootBtn;    SeekBar servo;    ArrayAdapter<String> itemsAdapter;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        itemsAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1);        moveBtn = (Button) findViewById(R.id.move_btn);        shootBtn = (Button) findViewById(R.id.shoot_btn);        ListView listView = (ListView) findViewById(R.id.listView);        listView.setAdapter(itemsAdapter);        servo = (SeekBar) findViewById(R.id.seekBar);        moveBtn.setOnClickListener(this);        shootBtn.setOnClickListener(this);        moveBtn.setOnTouchListener(this);        // запуск bluetooth        startService(new Intent(this, BTService.class));    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        // запишем в лог значения requestCode и resultCode        Log.d("myLogs", "requestCode = " + requestCode + ", resultCode = " + resultCode);        // если пришло ОК        if (resultCode == RESULT_OK) {        } else {            Toast.makeText(this, "Wrong result", Toast.LENGTH_SHORT).show();        }    }    @Override    protected void onDestroy() {        super.onDestroy();    }    @Override    public void onClick(View v) {        if(v == shootBtn) {            byte[] bufToSend = {CMD_SHOOT, '\n'};//            sendCMD(bufToSend);        }    }    @Override    public boolean onTouch(View v, MotionEvent event) {        int pointerIndex = 0;        MotionEvent.PointerCoords coords = new MotionEvent.PointerCoords();        event.getPointerCoords(pointerIndex, coords);        TextView tX = (TextView) findViewById(R.id.textView);        TextView tY = (TextView) findViewById(R.id.textView2);        float cX = v.getX() - v.getWidth() / 2 + coords.x;        float cY = v.getY() - v.getHeight() / 2 + coords.y;        v.setX(cX);        v.setY(cY);        tX.setText(cX + "");        tY.setText(cY + "");        // TODO: scale cX and cY to byte size        byte[] bufToSend = {CMD_MOVE, ':', (byte) cX, ',', (byte) cY, '\n'};        // sendCMD(bufToSend);        return true;    }}